<!DOCTYPE html>
<html>
<head>
	
	<title>Donut Data Online!</title>

	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" crossorigin=""></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>


	<style>
		html, body {
			height: 100%;
			margin: 0;
		}
		#map {
			width: 600px;
			height: 400px;
		}
	</style>

	
</head>
<body>
<h1>Rory's Donut Data...Online</h1>
<h3>Stay tuned for exclusive donut data-related content!</h3>


<div id='map'></div>
<ol id='listings'></ol>

<script src="donut_data.js" type="text/javascript"></script>

<script>
	// Link to data on Github??
	// donutShop = $.getJSON("donut_data.json")
	

	var map = L.map('map').setView([37.28099, -121.95252], 9);

	L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
		maxZoom: 18,
		attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
			'<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
			'Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
		id: 'mapbox.light'
	}).addTo(map);

	function onEachFeature(feature, layer) {
	    // does this feature have a property named popupContent?
	    if (feature.properties && feature.properties.popupContent) {
	        layer.bindPopup(feature.properties.popupContent);
	    }

    	var numberList = document.getElementById("listings");

	    var newNumberListItem = document.createElement("li");

        // //create new text node
        var numberListValue = document.createTextNode(feature.properties.popupContent);

        //add text node to li element
        newNumberListItem.appendChild(numberListValue);

	    //add new list element built in previous steps to unordered list
	    //called numberList
		numberList.appendChild(newNumberListItem);
		
	    // var theDiv = document.getElementById("listings");
		// var content = document.createTextNode(feature.properties.popupContent);
		// theDiv.appendChild(content);
	}

	L.geoJSON(donutShop, {
    	onEachFeature: onEachFeature
	}).addTo(map);

</script>

<div id='listings'></div>


</body>
</html>
